{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">Welcome, {{ session['username'] }}!</h1>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title">Add Link</h2>
                <form action="{{ url_for('add_link') }}" method="post">
                    <div class="mb-3">
                        <input type="text" class="form-control" name="link" placeholder="Enter a link" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Link</button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title">Add Fact</h2>
                <form action="{{ url_for('add_fact') }}" method="post">
                    <div class="mb-3">
                        <input type="text" class="form-control" name="fact" placeholder="Enter a fact" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Fact</button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title">Add News Update</h2>
                <form action="{{ url_for('add_news') }}" method="post">
                    <div class="mb-3">
                        <input type="text" class="form-control" name="news" placeholder="Enter a news update" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Add News</button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title">Add Calendar Event</h2>
                <form action="{{ url_for('add_event') }}" method="post">
                    <div class="mb-3">
                        <input type="text" class="form-control" name="event" placeholder="Enter an event" required>
                    </div>
                    <div class="mb-3">
                        <input type="date" class="form-control" name="date" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Event</button>
                </form>
            </div>
        </div>
    </div>
</div>

<h2 class="mt-4">Stored Information</h2>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">Links</h3>
                <ul class="list-group list-group-flush">
                    {% for link in links %}
                        <li class="list-group-item bg-dark text-light">
                            {{ link['url'] }}
                            <div class="float-end">
                                <a href="{{ url_for('edit_link', id=link['id']) }}" class="btn btn-sm btn-primary">Edit</a>
                                <a href="{{ url_for('delete_link', id=link['id']) }}" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this link?');">Delete</a>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">Facts</h3>
                <ul class="list-group list-group-flush">
                    {% for fact in facts %}
                        <li class="list-group-item bg-dark text-light">{{ fact['content'] }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">News Updates</h3>
                <ul class="list-group list-group-flush">
                    {% for news in news_updates %}
                        <li class="list-group-item bg-dark text-light">{{ news['content'] }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">Calendar Events</h3>
                <ul class="list-group list-group-flush">
                    {% for event in calendar_events %}
                        <li class="list-group-item bg-dark text-light">{{ event['event'] }} - {{ event['date'] }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}